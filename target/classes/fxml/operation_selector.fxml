<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.logicielapp.controller.OperationSelectorController"
      spacing="20.0" styleClass="operation-selector">

   <!-- Titre de la section -->
   <Label styleClass="selector-title" text="ðŸŽ¯ SÃ©lecteur d'OpÃ©ration Intelligent">
      <font>
         <Font name="System Bold" size="18.0" />
      </font>
   </Label>

   <!-- Informations sur l'appareil dÃ©tectÃ© -->
   <VBox spacing="15.0" styleClass="device-info-card">
      <Label styleClass="card-title" text="ðŸ“± Appareil DÃ©tectÃ©">
         <font>
            <Font name="System Bold" size="14.0" />
         </font>
      </Label>
      
      <HBox spacing="20.0" alignment="CENTER_LEFT">
         <!-- Image de l'appareil -->
         <VBox alignment="CENTER" spacing="5.0">
            <ImageView fx:id="deviceImageView" fitHeight="120.0" fitWidth="60.0" preserveRatio="true">
               <image>
                  <Image url="@../images/devices/iphone.svg" />
               </image>
            </ImageView>
            <Label fx:id="lblBatteryLevel" styleClass="battery-label" text="ðŸ”‹ 75%">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font>
            </Label>
         </VBox>
         
         <!-- Informations dÃ©taillÃ©es -->
         <GridPane hgap="15.0" vgap="8.0">
         <Label text="Marque:" GridPane.columnIndex="0" GridPane.rowIndex="0" styleClass="info-label" />
         <Label fx:id="lblDeviceBrand" text="Non dÃ©tectÃ©" GridPane.columnIndex="1" GridPane.rowIndex="0" styleClass="info-value" />
         
         <Label text="ModÃ¨le:" GridPane.columnIndex="0" GridPane.rowIndex="1" styleClass="info-label" />
         <Label fx:id="lblDeviceModel" text="Non dÃ©tectÃ©" GridPane.columnIndex="1" GridPane.rowIndex="1" styleClass="info-value" />
         
         <Label text="Plateforme:" GridPane.columnIndex="0" GridPane.rowIndex="2" styleClass="info-label" />
         <Label fx:id="lblDevicePlatform" text="Non dÃ©tectÃ©e" GridPane.columnIndex="1" GridPane.rowIndex="2" styleClass="info-value platform-badge" />
         
         <Label text="Version OS:" GridPane.columnIndex="0" GridPane.rowIndex="3" styleClass="info-label" />
         <Label fx:id="lblDeviceOS" text="Non disponible" GridPane.columnIndex="1" GridPane.rowIndex="3" styleClass="info-value" />
         
         <Label text="IMEI:" GridPane.columnIndex="0" GridPane.rowIndex="4" styleClass="info-label" />
         <Label fx:id="lblDeviceIMEI" text="Non disponible" GridPane.columnIndex="1" GridPane.rowIndex="4" styleClass="info-value" />
         
         <Label text="NumÃ©ro de sÃ©rie:" GridPane.columnIndex="0" GridPane.rowIndex="5" styleClass="info-label" />
         <Label fx:id="lblDeviceSerial" text="Non disponible" GridPane.columnIndex="1" GridPane.rowIndex="5" styleClass="info-value" />
         
         <Label text="CapacitÃ©:" GridPane.columnIndex="0" GridPane.rowIndex="6" styleClass="info-label" />
         <Label fx:id="lblDeviceCapacity" text="Non disponible" GridPane.columnIndex="1" GridPane.rowIndex="6" styleClass="info-value" />
         </GridPane>
      </HBox>
      
      <!-- Badge de statut -->
      <HBox alignment="CENTER_LEFT" spacing="10.0">
         <Label fx:id="lblConnectionStatus" styleClass="connection-badge" text="ðŸ”Œ ConnectÃ© via USB" />
         <Label fx:id="lblCompatibilityStatus" styleClass="compatibility-badge" text="âœ… Compatible" />
      </HBox>
   </VBox>

   <!-- OpÃ©rations recommandÃ©es -->
   <VBox spacing="15.0" styleClass="operations-card">
      <Label styleClass="card-title" text="ðŸ”§ OpÃ©rations RecommandÃ©es">
         <font>
            <Font name="System Bold" size="14.0" />
         </font>
      </Label>
      
      <!-- iOS Operations -->
      <VBox fx:id="iosOperationsPane" spacing="10.0" visible="false">
         <Label styleClass="platform-section-title" text="ðŸ OpÃ©rations iOS Disponibles">
            <font>
               <Font name="System Bold" size="13.0" />
            </font>
         </Label>
         
         <VBox spacing="8.0">
            <RadioButton fx:id="radiOSiCloudBypass" styleClass="operation-radio" 
                        text="ðŸ”“ DÃ©blocage iCloud (Activation Lock)" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="Contourne le verrouillage d'activation iCloud. Compatible avec la plupart des versions iOS." />
            
            <RadioButton fx:id="radioiOSPasscodeUnlock" styleClass="operation-radio" 
                        text="ðŸ”‘ DÃ©verrouillage Code d'AccÃ¨s" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="Supprime le code PIN, mot de passe, Face ID ou Touch ID." />
            
            <RadioButton fx:id="radioiOSScreenTime" styleClass="operation-radio" 
                        text="â° Bypass Temps d'Ã‰cran" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="DÃ©sactive les restrictions de temps d'Ã©cran et contrÃ´le parental." />
            
            <RadioButton fx:id="radioiOSActivationLock" styleClass="operation-radio" 
                        text="ðŸ›¡ï¸ Bypass Activation Lock" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="Contourne le verrouillage d'activation aprÃ¨s rÃ©initialisation." />
         </VBox>
      </VBox>

      <!-- Android Operations -->
      <VBox fx:id="androidOperationsPane" spacing="10.0" visible="false">
         <Label styleClass="platform-section-title" text="ðŸ¤– OpÃ©rations Android Disponibles">
            <font>
               <Font name="System Bold" size="13.0" />
            </font>
         </Label>
         
         <VBox spacing="8.0">
            <RadioButton fx:id="radioAndroidFRP" styleClass="operation-radio" 
                        text="ðŸ”’ Contournement FRP (Factory Reset Protection)" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="Bypass de la protection Google aprÃ¨s rÃ©initialisation d'usine." />
            
            <RadioButton fx:id="radioAndroidPattern" styleClass="operation-radio" 
                        text="ðŸ”¢ DÃ©blocage Motif/PIN/Mot de passe" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="Supprime le verrouillage d'Ã©cran (motif, PIN, empreinte)." />
            
            <RadioButton fx:id="radioAndroidSamsung" styleClass="operation-radio" 
                        text="ðŸ“± Bypass Compte Samsung" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="Contourne la vÃ©rification du compte Samsung sur les appareils Galaxy." />
            
            <RadioButton fx:id="radioAndroidMi" styleClass="operation-radio" 
                        text="ðŸ”¶ Bypass Compte Mi (Xiaomi)" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="Contourne la vÃ©rification du compte Mi sur les appareils Xiaomi." />
            
            <RadioButton fx:id="radioAndroidBootloader" styleClass="operation-radio" 
                        text="ðŸ”§ DÃ©blocage Bootloader" toggleGroup="$operationType" />
            <Label styleClass="operation-description" 
                   text="DÃ©bloque le bootloader pour installation de ROM personnalisÃ©es." />
         </VBox>
      </VBox>
      
      <!-- Message si aucune opÃ©ration disponible -->
      <VBox fx:id="noOperationsPane" alignment="CENTER" spacing="10.0" visible="true">
         <Label styleClass="no-operations-icon" text="ðŸ“µ">
            <font>
               <Font size="36.0" />
            </font>
         </Label>
         <Label styleClass="no-operations-text" text="Aucun appareil dÃ©tectÃ©" textAlignment="CENTER">
            <font>
               <Font name="System Bold" size="14.0" />
            </font>
         </Label>
         <Label styleClass="no-operations-subtitle" text="Connectez votre appareil via USB pour voir les opÃ©rations disponibles" 
                textAlignment="CENTER" wrapText="true">
            <font>
               <Font size="12.0" />
            </font>
         </Label>
      </VBox>
   </VBox>

   <!-- Options avancÃ©es -->
   <VBox spacing="15.0" styleClass="advanced-options-card">
      <Label styleClass="card-title" text="âš™ï¸ Options AvancÃ©es">
         <font>
            <Font name="System Bold" size="14.0" />
         </font>
      </Label>
      
      <VBox spacing="10.0">
         <CheckBox fx:id="chkPreserveData" styleClass="advanced-checkbox" 
                  text="ðŸ’¾ PrÃ©server les donnÃ©es utilisateur (si possible)" selected="true" />
         <CheckBox fx:id="chkAdvancedMode" styleClass="advanced-checkbox" 
                  text="ðŸ”¬ Mode avancÃ© (options expertes)" />
         <CheckBox fx:id="chkBypassSecurity" styleClass="advanced-checkbox" 
                  text="ðŸ›¡ï¸ Contourner les vÃ©rifications de sÃ©curitÃ©" />
         <CheckBox fx:id="chkCreateBackup" styleClass="advanced-checkbox" 
                  text="ðŸ’¿ CrÃ©er une sauvegarde avant l'opÃ©ration" selected="true" />
      </VBox>
   </VBox>

   <!-- Estimation et avertissements -->
   <VBox spacing="15.0" styleClass="estimation-card">
      <HBox alignment="CENTER_LEFT" spacing="15.0">
         <VBox spacing="5.0">
            <Label styleClass="estimation-label" text="â±ï¸ Temps estimÃ©:">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font>
            </Label>
            <Label fx:id="lblEstimatedTime" styleClass="estimation-value" text="Non calculÃ©" />
         </VBox>
         
         <VBox spacing="5.0">
            <Label styleClass="estimation-label" text="ðŸ“Š Taux de rÃ©ussite:">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font>
            </Label>
            <Label fx:id="lblSuccessRate" styleClass="estimation-value" text="Non disponible" />
         </VBox>
         
         <VBox spacing="5.0">
            <Label styleClass="estimation-label" text="âš ï¸ Niveau de risque:">
               <font>
                  <Font name="System Bold" size="12.0" />
               </font>
            </Label>
            <Label fx:id="lblRiskLevel" styleClass="risk-badge" text="Non Ã©valuÃ©" />
         </VBox>
      </HBox>
   </VBox>

   <!-- Boutons d'action -->
   <HBox alignment="CENTER" spacing="20.0" styleClass="action-buttons">
      <Button fx:id="btnStartOperation" onAction="#handleStartOperation" 
              styleClass="start-operation-button" text="ðŸš€ DÃ©marrer l'OpÃ©ration" disable="true" />
      <Button fx:id="btnAdvancedSettings" onAction="#handleAdvancedSettings" 
              styleClass="advanced-settings-button" text="ðŸ”§ ParamÃ¨tres AvancÃ©s" />
      <Button fx:id="btnRefreshDevice" onAction="#handleRefreshDevice" 
              styleClass="refresh-button" text="ðŸ”„ Actualiser l'Appareil" />
   </HBox>

   <!-- Padding pour la VBox principale -->
   <padding>
      <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
   </padding>

</VBox>
