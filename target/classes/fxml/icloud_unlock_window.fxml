<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.logicielapp.controller.iCloudUnlockController">
   <top>
      <VBox styleClass="header-section">
         <HBox alignment="CENTER_LEFT" spacing="15.0">
            <Label styleClass="window-title" text="ðŸŽ DÃ©blocage Comptes iCloud BloquÃ©s">
               <font>
                  <Font name="System Bold" size="18.0" />
               </font>
            </Label>
         </HBox>
         <Separator />
         <padding>
            <Insets bottom="10.0" left="20.0" right="20.0" top="15.0" />
         </padding>
      </VBox>
   </top>
   
   <center>
      <VBox spacing="20.0">
         <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
         </padding>
         
         <!-- Section DÃ©tection d'Appareils -->
         <VBox spacing="10.0" styleClass="section-box">
            <Label styleClass="section-title" text="ðŸ“± DÃ©tection d'Appareils iOS">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <Button fx:id="btnDetectDevices" onAction="#handleDetectDevices" styleClass="primary-button" text="ðŸ” DÃ©tecter Appareils" />
               <Button fx:id="btnRefreshDevices" onAction="#handleRefreshDevices" styleClass="secondary-button" text="ðŸ”„ Actualiser" />
               <Separator orientation="VERTICAL" />
               <Label fx:id="lblDeviceStatus" styleClass="status-label" text="Aucun appareil dÃ©tectÃ©" />
            </HBox>
            
            <TableView fx:id="tableDevices" prefHeight="120.0">
               <columns>
                  <TableColumn fx:id="colDeviceModel" prefWidth="150.0" text="ModÃ¨le" />
                  <TableColumn fx:id="colDeviceIMEI" prefWidth="180.0" text="IMEI/SÃ©rie" />
                  <TableColumn fx:id="colDeviceState" prefWidth="120.0" text="Ã‰tat" />
                  <TableColumn fx:id="colDeviceOS" prefWidth="100.0" text="iOS Version" />
                  <TableColumn fx:id="colDeviceAction" prefWidth="100.0" text="Action" />
               </columns>
            </TableView>
         </VBox>
         
         <!-- Section Type de DÃ©blocage -->
         <VBox spacing="10.0" styleClass="section-box">
            <Label styleClass="section-title" text="ðŸ”“ Type de DÃ©blocage iCloud">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <VBox spacing="8.0">
               <RadioButton fx:id="rbActivationLock" selected="true" text="ðŸ”’ Activation Lock (Logo Apple bloquÃ©)">
                  <toggleGroup>
                     <ToggleGroup fx:id="unlockTypeGroup" />
                  </toggleGroup>
               </RadioButton>
               <RadioButton fx:id="rbAccountLocked" text="ðŸ‘¤ Compte iCloud VerrouillÃ© (Mot de passe oubliÃ©)" toggleGroup="$unlockTypeGroup" />
               <RadioButton fx:id="rbFindMyDevice" text="ðŸ“ Find My Device ActivÃ© (Localisation forcÃ©e)" toggleGroup="$unlockTypeGroup" />
               <RadioButton fx:id="rbScreenTime" text="â° Screen Time BloquÃ© (ContrÃ´le parental)" toggleGroup="$unlockTypeGroup" />
               <RadioButton fx:id="rbTwoFactorAuth" text="ðŸ” Authentification Ã  2 Facteurs BloquÃ©e" toggleGroup="$unlockTypeGroup" />
               <RadioButton fx:id="rbCompleteBypass" text="ðŸš€ Bypass Complet (Toutes restrictions)" toggleGroup="$unlockTypeGroup" />
            </VBox>
         </VBox>
         
         <!-- Section MÃ©thode de DÃ©blocage -->
         <VBox spacing="10.0" styleClass="section-box">
            <Label styleClass="section-title" text="âš™ï¸ MÃ©thode de DÃ©blocage">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <HBox spacing="15.0">
               <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                  <RadioButton fx:id="rbMethod3uTools" selected="true" text="ðŸ› ï¸ Style 3uTools (RecommandÃ©)">
                     <toggleGroup>
                        <ToggleGroup fx:id="methodGroup" />
                     </toggleGroup>
                  </RadioButton>
                  <RadioButton fx:id="rbMethodCheckra1n" text="âš¡ Checkra1n Exploit" toggleGroup="$methodGroup" />
                  <RadioButton fx:id="rbMethodUncOver" text="ðŸ”“ Unc0ver Jailbreak" toggleGroup="$methodGroup" />
               </VBox>
               
               <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                  <RadioButton fx:id="rbMethodTaiG" text="ðŸŽ¯ TaiG Bypass" toggleGroup="$methodGroup" />
                  <RadioButton fx:id="rbMethodPangu" text="ðŸ‰ Pangu Team Method" toggleGroup="$methodGroup" />
                  <RadioButton fx:id="rbMethodCustom" text="ðŸ”§ MÃ©thode PersonnalisÃ©e" toggleGroup="$methodGroup" />
               </VBox>
            </HBox>
         </VBox>
         
         <!-- Section Options AvancÃ©es -->
         <VBox spacing="10.0" styleClass="section-box">
            <Label styleClass="section-title" text="ðŸ”¬ Options AvancÃ©es">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <HBox spacing="20.0">
               <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                  <CheckBox fx:id="cbBackupData" text="ðŸ’¾ Sauvegarder les donnÃ©es avant dÃ©blocage" />
                  <CheckBox fx:id="cbPreserveFirmware" text="ðŸ“± PrÃ©server le firmware actuel" />
                  <CheckBox fx:id="cbSkipValidation" text="âš ï¸ Ignorer les validations de sÃ©curitÃ©" />
               </VBox>
               
               <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                  <CheckBox fx:id="cbVerboseLogging" selected="true" text="ðŸ“ Logs dÃ©taillÃ©s" />
                  <CheckBox fx:id="cbAutoReboot" selected="true" text="ðŸ”„ RedÃ©marrage automatique" />
                  <CheckBox fx:id="cbTestMode" text="ðŸ§ª Mode Test (Simulation)" />
               </VBox>
            </HBox>
         </VBox>
         
         <!-- Section ContrÃ´les -->
         <VBox spacing="15.0" styleClass="section-box">
            <Label styleClass="section-title" text="ðŸŽ® ContrÃ´les de DÃ©blocage">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            
            <HBox alignment="CENTER_LEFT" spacing="15.0">
               <Button fx:id="btnStartUnlock" onAction="#handleStartUnlock" styleClass="success-button" text="ðŸš€ DÃ©marrer DÃ©blocage" />
               <Button fx:id="btnStopUnlock" disable="true" onAction="#handleStopUnlock" styleClass="danger-button" text="â¹ï¸ ArrÃªter" />
               <Button fx:id="btnResetDevice" onAction="#handleResetDevice" styleClass="warning-button" text="ðŸ”„ Reset Appareil" />
               <Separator orientation="VERTICAL" />
               <Button fx:id="btnSaveProfile" onAction="#handleSaveProfile" styleClass="secondary-button" text="ðŸ’¾ Sauvegarder Profil" />
               <Button fx:id="btnLoadProfile" onAction="#handleLoadProfile" styleClass="secondary-button" text="ðŸ“‚ Charger Profil" />
            </HBox>
            
            <!-- Barre de Progression -->
            <VBox spacing="5.0">
               <HBox alignment="CENTER_LEFT" spacing="10.0">
                  <Label text="Progression:" />
                  <Label fx:id="lblProgress" styleClass="progress-label" text="0%" />
               </HBox>
               <ProgressBar fx:id="progressBar" prefWidth="Infinity" progress="0.0" />
               <Label fx:id="lblCurrentStep" styleClass="step-label" text="En attente..." />
            </VBox>
         </VBox>
      </VBox>
   </center>
   
   <bottom>
      <VBox spacing="10.0" styleClass="footer-section">
         <Separator />
         
         <!-- Console de Logs -->
         <VBox spacing="5.0">
            <HBox alignment="CENTER_LEFT" spacing="10.0">
               <Label styleClass="section-title" text="ðŸ“‹ Console de DÃ©blocage">
                  <font>
                     <Font name="System Bold" size="12.0" />
                  </font>
               </Label>
               <Button fx:id="btnClearLogs" onAction="#handleClearLogs" styleClass="small-button" text="ðŸ—‘ï¸ Effacer" />
               <Button fx:id="btnExportLogs" onAction="#handleExportLogs" styleClass="small-button" text="ðŸ’¾ Exporter" />
            </HBox>
            
            <TextArea fx:id="txtConsole" editable="false" prefHeight="150.0" promptText="Les logs du processus de dÃ©blocage apparaÃ®tront ici..." styleClass="console-area" wrapText="true" />
         </VBox>
         
         <!-- Boutons de Navigation -->
         <HBox alignment="CENTER_RIGHT" spacing="10.0">
            <Button fx:id="btnHelp" onAction="#handleHelp" styleClass="secondary-button" text="â“ Aide" />
            <Button fx:id="btnClose" onAction="#handleClose" styleClass="secondary-button" text="âŒ Fermer" />
         </HBox>
         
         <padding>
            <Insets bottom="15.0" left="20.0" right="20.0" top="10.0" />
         </padding>
      </VBox>
   </bottom>
</BorderPane>
