<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.logicielapp.controller.iCloudBypassController" styleClass="dark-background">

    <!-- En-tÃªte -->
    <top>
        <VBox styleClass="header-section">
            <HBox alignment="CENTER" styleClass="title-bar">
                <Label styleClass="window-title" text="ðŸŽ DÃ©blocage iCloud - Style 3uTools">
                    <font>
                        <Font name="System Bold" size="18.0" />
                    </font>
                </Label>
            </HBox>
            
            <HBox alignment="CENTER" spacing="20.0" styleClass="info-bar">
                <Label text="DÃ©blocage iCloud Automatique - Compatible iOS 7.0 Ã  18.6.1 - DÃ©verrouillage Officiel" 
                       styleClass="info-text" />
            </HBox>
        </VBox>
    </top>

    <!-- Contenu principal -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
            <content>
                <VBox spacing="20.0" styleClass="main-content">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>

            <!-- Section dÃ©tection d'appareil -->
            <VBox spacing="15.0" styleClass="section-box-dark">
                <Label text="ðŸ“± DÃ©tection et Analyse d'Appareil" styleClass="section-title-dark">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                
                <HBox spacing="15.0" alignment="CENTER_LEFT">
                    <Button fx:id="detectBtn" text="ðŸ” DÃ©tecter Appareils iOS" 
                            onAction="#handleDetectDevices" styleClass="action-button-dark" />
                    <Button fx:id="refreshBtn" text="ðŸ”„ Actualiser" 
                            onAction="#handleRefreshDevices" styleClass="action-button-dark" />
                    <Button fx:id="analyzeBtn" text="ðŸ”¬ Analyser SÃ©curitÃ©" 
                            onAction="#handleAnalyzeSecurity" styleClass="action-button-dark" />
                </HBox>
                
                <VBox spacing="10.0">
                    <Label text="Appareil dÃ©tectÃ©:" styleClass="field-label-dark" />
                    <ComboBox fx:id="deviceComboBox" promptText="Aucun appareil dÃ©tectÃ©" 
                              prefWidth="400.0" styleClass="device-combo-dark" />
                </VBox>
                
                <GridPane hgap="15.0" vgap="10.0">
                    <columnConstraints>
                        <ColumnConstraints minWidth="120.0" />
                        <ColumnConstraints minWidth="200.0" />
                        <ColumnConstraints minWidth="120.0" />
                        <ColumnConstraints minWidth="200.0" />
                    </columnConstraints>
                    
                    <Label text="ModÃ¨le:" styleClass="info-label-dark" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <Label fx:id="modelLabel" text="Non dÃ©tectÃ©" styleClass="info-value-dark" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                    
                    <Label text="IMEI:" styleClass="info-label-dark" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                    <Label fx:id="imeiLabel" text="Non disponible" styleClass="info-value-dark" GridPane.columnIndex="3" GridPane.rowIndex="0" />
                    
                    <Label text="Ã‰tat:" styleClass="info-label-dark" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <Label fx:id="stateLabel" text="Inconnu" styleClass="info-value-dark" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                    
                    <Label text="Statut iCloud:" styleClass="info-label-dark" GridPane.columnIndex="2" GridPane.rowIndex="1" />
                    <Label fx:id="icloudStatusLabel" text="VÃ©rification..." styleClass="info-value-dark" GridPane.columnIndex="3" GridPane.rowIndex="1" />
                    
                    <Label text="Version iOS:" styleClass="info-label-dark" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <Label fx:id="iosVersionLabel" text="Inconnue" styleClass="info-value-dark" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                    
                    <Label text="CompatibilitÃ©:" styleClass="info-label-dark" GridPane.columnIndex="2" GridPane.rowIndex="2" />
                    <Label fx:id="compatibilityLabel" text="En cours..." styleClass="info-value-dark" GridPane.columnIndex="3" GridPane.rowIndex="2" />
                </GridPane>
            </VBox>

            <!-- Section mÃ©thodes de dÃ©blocage -->
            <VBox spacing="15.0" styleClass="section-box-dark">
                <Label text="ðŸ”“ MÃ©thodes de DÃ©blocage iCloud" styleClass="section-title-dark">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                
                <VBox spacing="10.0">
                    <RadioButton fx:id="officialUnlockRadio" text="ðŸ† DÃ©blocage Officiel (RecommandÃ©)" 
                                 selected="true" styleClass="method-radio">
                        <toggleGroup>
                            <ToggleGroup fx:id="unlockMethodGroup" />
                        </toggleGroup>
                    </RadioButton>
                    
                    <RadioButton fx:id="bypassSignalRadio" text="ðŸ“¶ Bypass avec Signal (RÃ©seau + Puce)" 
                                 toggleGroup="$unlockMethodGroup" styleClass="method-radio" />
                    
                    <RadioButton fx:id="bypassNoSignalRadio" text="ðŸ“µ Bypass sans Signal (WiFi uniquement)" 
                                 toggleGroup="$unlockMethodGroup" styleClass="method-radio" />
                    
                    <RadioButton fx:id="hardwareUnlockRadio" text="ðŸ”§ DÃ©blocage MatÃ©riel (AvancÃ©)" 
                                 toggleGroup="$unlockMethodGroup" styleClass="method-radio" />
                </VBox>
                
                <VBox spacing="10.0">
                    <Label text="â„¹ï¸ Le dÃ©blocage officiel supprime dÃ©finitivement le verrouillage iCloud de l'appareil" 
                           styleClass="info-text" wrapText="true" />
                    <Label text="ðŸ“¶ Bypass avec Signal: Fonctionne avec rÃ©seau cellulaire et puce SIM" 
                           styleClass="info-text" wrapText="true" />
                    <Label text="ðŸ“µ Bypass sans Signal: WiFi uniquement, pas de rÃ©seau cellulaire ni puce" 
                           styleClass="info-text" wrapText="true" />
                    <Label text="âš ï¸ ATTENTION: Si l'appareil est rÃ©initialisÃ©, il demandera obligatoirement le compte iCloud original" 
                           styleClass="warning-text" wrapText="true" />
                    <CheckBox fx:id="autoRebootCheckBox" text="RedÃ©marrage automatique aprÃ¨s dÃ©blocage" 
                              selected="true" styleClass="option-checkbox" />
                    <CheckBox fx:id="backupDataCheckBox" text="Sauvegarder les donnÃ©es avant dÃ©blocage" 
                              selected="false" styleClass="option-checkbox" />
                    <CheckBox fx:id="verifyUnlockCheckBox" text="VÃ©rifier le dÃ©blocage aprÃ¨s traitement" 
                              selected="true" styleClass="option-checkbox" />
                </VBox>
            </VBox>
            
            <!-- Section informations de dÃ©blocage -->
            <VBox spacing="15.0" styleClass="section-box">
                <Label text="ðŸ“‹ Informations de DÃ©blocage" styleClass="section-title">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                
                <GridPane hgap="15.0" vgap="10.0">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150.0" />
                        <ColumnConstraints minWidth="300.0" />
                    </columnConstraints>
                    
                    <Label text="IMEI/NumÃ©ro de sÃ©rie:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="imeiField" promptText="Entrez l'IMEI ou numÃ©ro de sÃ©rie" 
                               styleClass="input-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                    
                    <Label text="ModÃ¨le d'appareil:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <ComboBox fx:id="deviceModelCombo" promptText="SÃ©lectionnez le modÃ¨le" 
                              styleClass="model-combo" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                    
                    <Label text="Version iOS:" styleClass="field-label" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <ComboBox fx:id="iosVersionCombo" promptText="SÃ©lectionnez la version iOS" 
                              styleClass="version-combo" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                </GridPane>
                
                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <Button fx:id="validateInfoBtn" text="âœ… Valider les Informations" 
                            onAction="#handleValidateInfo" styleClass="validate-button" />
                    <Button fx:id="autoFillBtn" text="ðŸ”„ Remplissage Automatique" 
                            onAction="#handleAutoFill" styleClass="autofill-button" />
                </HBox>
            </VBox>

            <!-- Section progression -->
            <VBox spacing="15.0" styleClass="section-box">
                <Label text="ðŸ“Š Progression du DÃ©blocage iCloud" styleClass="section-title">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                
                <VBox spacing="10.0">
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <Label text="Statut:" styleClass="field-label" />
                        <Label fx:id="statusLabel" text="PrÃªt" styleClass="status-ready" />
                    </HBox>
                    
                    <ProgressBar fx:id="progressBar" prefWidth="500.0" progress="0" 
                                 styleClass="bypass-progress" />
                    
                    <Label fx:id="progressLabel" text="En attente..." styleClass="progress-text" />
                </VBox>
            </VBox>

            <!-- Section logs -->
            <VBox spacing="15.0" styleClass="section-box">
                <HBox spacing="10.0" alignment="CENTER_LEFT">
                    <Label text="ðŸ“ Journal d'ActivitÃ©" styleClass="section-title">
                        <font>
                            <Font name="System Bold" size="14.0" />
                        </font>
                    </Label>
                    <Button fx:id="clearLogsBtn" text="ðŸ—‘ï¸ Effacer" onAction="#handleClearLogs" 
                            styleClass="clear-button" />
                </HBox>
                
                <TextArea fx:id="logArea" prefHeight="200.0" editable="false" 
                          wrapText="true" styleClass="log-area" 
                          promptText="Les dÃ©tails du processus de dÃ©blocage s'afficheront ici..." />
            </VBox>
                </VBox>
            </content>
        </ScrollPane>
    </center>

    <!-- Boutons d'action et footer -->
    <bottom>
        <VBox styleClass="footer-section">
            <!-- Boutons d'action -->
            <HBox spacing="15.0" alignment="CENTER" styleClass="button-bar">
                <padding>
                    <Insets bottom="15.0" left="20.0" right="20.0" top="15.0" />
                </padding>
                
                <Button fx:id="startUnlockBtn" text="ðŸš€ DÃ©marrer le DÃ©blocage" 
                        onAction="#handleStartUnlock" styleClass="start-button" 
                        disable="true" prefWidth="200.0" />
                
                <Button fx:id="stopBtn" text="â¹ï¸ ArrÃªter" onAction="#handleStopUnlock" 
                        styleClass="stop-button" disable="true" prefWidth="120.0" />
                
                <Button fx:id="helpBtn" text="â“ Aide" onAction="#handleHelp" 
                        styleClass="help-button" prefWidth="100.0" />
                
                <Button fx:id="closeBtn" text="âŒ Fermer" onAction="#handleClose" 
                        styleClass="close-button" prefWidth="100.0" />
            </HBox>
            
            <!-- Footer professionnel -->
            <VBox alignment="CENTER" spacing="5.0" styleClass="copyright-footer">
                <Label text="Logiciel developpe par : F.Badji" styleClass="footer-text" />
                <Label text="Logiciel de DÃ©blocage Mobile - Â© 2025" styleClass="footer-text" />
                <padding>
                    <Insets bottom="8.0" left="15.0" right="15.0" top="8.0" />
                </padding>
            </VBox>
        </VBox>
    </bottom>

</BorderPane>
